# **Leaky Integrate-and-Fire (LIF) ç¥ç»å…ƒæ¨¡å‹**

## ğŸ“– 1. å®šä¹‰

**LIF ç¥ç»å…ƒ**æ˜¯è„‰å†²ç¥ç»ç½‘ç»œï¼ˆSNNï¼‰ä¸­æœ€å¸¸è§ã€æœ€ç®€åŒ–çš„æ¨¡å‹ä¹‹ä¸€ã€‚

* å®ƒæŠŠç¥ç»å…ƒæŠ½è±¡æˆä¸€ä¸ª **å¸¦ç”µå®¹å’Œç”µé˜»çš„â€œç”µè·¯â€**ã€‚
* è†œç”µä½ $V(t)$ ä¼šéšè¾“å…¥ç”µæµé€æ¸ç§¯ç´¯ï¼ˆintegrateï¼‰ã€‚
* è†œç”µä½åŒæ—¶ä¼šéšæ—¶é—´è¡°å‡å›é™æ¯ç”µä½ï¼ˆleakyï¼‰ã€‚
* å½“ $V(t)$ è¶…è¿‡é˜ˆå€¼ $V_{th}$ï¼Œç¥ç»å…ƒå‘æ”¾ä¸€ä¸ªè„‰å†²ï¼ˆspikeï¼‰ï¼Œç„¶åè†œç”µä½è¢«é‡ç½®ã€‚



## ğŸ“– 2. æ•°å­¦æè¿°

LIF çš„åŠ¨åŠ›å­¦æ–¹ç¨‹ä¸ºä¸€é˜¶å¾®åˆ†æ–¹ç¨‹ï¼š

$$
\tau_m \frac{dV(t)}{dt} = -(V(t) - V_{rest}) + R \cdot I(t)
$$

å…¶ä¸­ï¼š

* $V(t)$ï¼šè†œç”µä½
* $V_{rest}$ï¼šé™æ¯ç”µä½
* $R$ï¼šè†œç”µé˜»
* $I(t)$ï¼šè¾“å…¥ç”µæµ
* $\tau_m = RC$ï¼šè†œæ—¶é—´å¸¸æ•°ï¼ˆè¡°å‡é€Ÿåº¦ï¼‰

**å‘æ”¾è§„åˆ™**ï¼š

$$
\text{if } V(t) \geq V_{th} \quad \Rightarrow \quad \text{äº§ç”Ÿè„‰å†²ï¼Œä¸” } V(t) \to V_{reset}
$$

---

## ğŸ“– 3. æœ€å°ä»£ç ä¾‹å­ï¼ˆPython + NumPyï¼‰

ä¸‹é¢æ˜¯ä¸€ä¸ªå•ä¸ª LIF ç¥ç»å…ƒçš„æœ€ç®€æ¨¡æ‹Ÿï¼Œç”¨æ¬§æ‹‰æ³•æ•°å€¼ç§¯åˆ†ï¼š

```python
import numpy as np
import matplotlib.pyplot as plt

# æ¨¡æ‹Ÿå‚æ•°
T = 100.0   # æ€»æ—¶é—´ (ms)
dt = 1.0    # æ­¥é•¿ (ms)
steps = int(T/dt)

# LIF å‚æ•°
tau_m   = 10.0     # è†œæ—¶é—´å¸¸æ•°
V_rest  = -65.0    # é™æ¯ç”µä½
V_reset = -65.0    # å¤ä½ç”µä½
V_th    = -50.0    # é˜ˆå€¼
R       = 1.0      # è†œç”µé˜»
I       = 1.5      # æ’å®šè¾“å…¥ç”µæµ

# çŠ¶æ€å˜é‡
V = np.zeros(steps)
V[0] = V_rest
spikes = []

# æ¨¡æ‹Ÿ
for t in range(1, steps):
    dV = (-(V[t-1] - V_rest) + R*I) / tau_m * dt
    V[t] = V[t-1] + dV
    if V[t] >= V_th:        # è§¦å‘è„‰å†²
        V[t] = V_reset
        spikes.append(t*dt)

# ç”»å›¾
time = np.arange(0, T, dt)
plt.plot(time, V, label="è†œç”µä½")
plt.axhline(V_th, color='r', linestyle='--', label="é˜ˆå€¼")
plt.xlabel("æ—¶é—´ (ms)")
plt.ylabel("ç”µä½ (mV)")
plt.title("LIF ç¥ç»å…ƒæ¨¡æ‹Ÿ")
plt.legend()
plt.show()

print("è„‰å†²å‘ç”Ÿæ—¶é—´ (ms):", spikes)
```


### è¿è¡Œæ•ˆæœ

* å›¾åƒä¸­å¯ä»¥çœ‹åˆ°è†œç”µä½é€æ¸ä¸Šå‡åˆ°é˜ˆå€¼ â†’ è§¦å‘è„‰å†² â†’ é‡ç½®ï¼Œå†æ¬¡ç§¯ç´¯ â†’ å½¢æˆå‘¨æœŸæ€§æ”¾ç”µã€‚
* æ§åˆ¶è¾“å…¥ç”µæµ `I` å¯ä»¥å†³å®šæ˜¯å¦äº§ç”Ÿè„‰å†²ï¼Œä»¥åŠè„‰å†²é¢‘ç‡ã€‚

